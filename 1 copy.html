<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ตัวจำแนกประเภทแบบ Naive Bayes</title>
<style>
    .container {
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
        padding: 20px;
    }
    textarea {
        width: 100%;
        margin-bottom: 10px;
    }
    button {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        cursor: pointer;
    }
    button:hover {
        background-color: #0056b3;
    }
    .tabContent {
        display: none;
    }
    .activeTab {
        display: block;
    }
</style>
</head>
<body>
<div class="container">
    <h1>ตัวจำแนกประเภทแบบ Naive Bayes</h1>
    <div>
        <button onclick="openTab('genderTab')">เพศ</button>
        <button onclick="openTab('ageTab')">อายุ</button>
        <button onclick="openTab('interestsTab')">ความชอบ</button>
    </div>
    <div id="genderTab" class="tabContent">
        <label for="gender">เพศ:</label>
        <select id="gender">
            <option value="ชาย">ชาย</option>
            <option value="หญิง">หญิง</option>
        </select>
    </div>
    <div id="ageTab" class="tabContent">
        <label for="age">อายุ:</label>
        <input type="text" id="age" placeholder="ป้อนอายุ">
    </div>
    <div id="interestsTab" class="tabContent">
        <label>ความชอบ:</label><br>
        <div>
            <input type="checkbox" id="drawing" value="ชอบวาดรูปรถ">
            <label for="drawing">ชอบวาดรูปรถ</label><br>
        </div>
        <div>
            <input type="checkbox" id="touring" value="ชอบรถทัวร์">
            <label for="touring">ชอบรถทัวร์</label><br>
        </div>
        <div>
            <input type="checkbox" id="writing" value="เขียนตามคำบอก">
            <label for="writing">เขียนตามคำบอก</label><br>
        </div>
    </div>
    <button onclick="predictCategory()">ทำนายประเภท</button>
    <div id="result"></div>
</div>

<script>
    class NaiveBayes {
        constructor() {
            this.classes = {};
            this.totalSamples = 0;
        }

        learn(features, label) {
            if (!this.classes[label]) {
                this.classes[label] = { total: 0, features: {} };
            }

            features.forEach(feature => {
                if (!this.classes[label].features[feature]) {
                    this.classes[label].features[feature] = 1;
                } else {
                    this.classes[label].features[feature]++;
                }
                this.classes[label].total++;
                this.totalSamples++;
            });
        }

        categorize(features) {
            let maxProbability = -1;
            let predictedClass = null;

            for (let label in this.classes) {
                let classProbability = this.classes[label].total / this.totalSamples;
                let featureProbability = 1;

                features.forEach(feature => {
                    const featureCount = this.classes[label].features[feature] || 0;
                    const totalFeatures = this.classes[label].total || 0;
                    featureProbability *= (featureCount + 1) / (totalFeatures + 1);
                });

                const probability = classProbability * featureProbability;

                if (probability > maxProbability) {
                    maxProbability = probability;
                    predictedClass = label;
                }
            }

            return predictedClass;
        }
    }

    const classifier = new NaiveBayes();

    // ข้อมูลตัวอย่าง
    const data = [
            {
                name: 'อั๋น',
                เพศ: 'ชาย',
                อายุ: 16,
                เคยมีเเฟน: 'ไม่เคย',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                เดือนเกิด: 'เมษายน',
                โรงเรียน: '',
                ความชอบ: 'ชอบวาดรูปรถ',
                ถนัด: 'เขียนตามคำบอก',
            },
            {
                name: 'ปูน',
                เพศ: 'ชาย',
                อายุ: 16,
                เคยมีเเฟน: 'ไม่เคย',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                เดือนเกิด: 'พฤษจิกายน',
                โรงเรียน: 'เรียนม.ต้นที่พานทองสภา',
                ความชอบ: 'นอน',
                ถนัด: 'ภาษาอังกฤษ',
            },
            {
                name: 'ยูชิ',
                เพศ: 'หญิง',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียนได้อันดับที่ 1-3 ของห้องเสมอ',
                เดือนเกิด: 'สิงหาคม',
                โรงเรียน: 'เรียนม.ต้นที่พานทองสภา',
                ความชอบ: 'ชอบหนุ่มวาย-เกาหลี',
            },
            {
                name: 'เปิ้ล',
                เพศ: 'หญิง',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียนได้อันดับที่ 1-3 ของห้องเสมอ',
                เดือนเกิด: 'มกราคม',
                ชือ: 'มีชื่อเล่นที่เกี่ยวกับหรือเป็น ผลไม้'
            },
            {
                name: 'ใบเตย',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'ไม่เคย',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                โรงเรียน: 'เรียนม.ต้นที่พนัสพิทยาคาร',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียนได้อันดับที่ 1-3 ของห้องเสมอ',
                เดือนเกิด: 'มิถุนายน',
            },
            {
                name: 'จ๋า',
                เพศ: 'หญิง',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                โรงเรียน: 'เรียนม.ต้นที่วัดศรีประชาราม',
                สนิท: 'เป็นเพื่อนที่สนิทกับปูนนิดหน่อย',
                บุคลิก: 'เป็นสาวเท่'
            },
            {
                name: 'ผักบุ้ง',
                เพศ: 'หญิง',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                เดือนเกิด: 'กรกฎาคม',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                ชือ: 'ชื่อเล่นของคุณเกี่ยวกับน้ำ เช่นผักในน้ำ หรือมีคำว่าน้ำในชื่อ',
                สนิท: 'เป็นเพื่อนที่สนิทกับมิ้นต์'
            },
            {
                name: 'มิ้นต์',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนของเพื่อน',
                เดือนเกิด: 'พฤษภาคม',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ชือ: 'คุณมีอีกชื่อคือวิว',
                สนิท: 'เป็นเพื่อนที่สนิทกับมิ้นต์'
            },
            {
                name: 'ว่านน้ำ',
                เพศ: 'หญิง',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                ชือ: 'ชื่อเล่นของคุณเกี่ยวกับน้ำ เช่นผักในน้ำ หรือมีคำว่าน้ำในชื่อ',
                สนิท: 'เป็นเพื่อนที่สนิทกับพวกไอซ์1เเละนนท์'
            },
            {
                name: 'เจ๊ลิลลี่',
                เพศ: 'ชาย',
                อายุ: 16,
                เคยมีเเฟน: 'ไม่เคย',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                เดือนเกิด: 'สิงหาคม',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                รสนิยม: 'คุณคือตัวเเม่'
            },
            {
                name: 'ต้นข้าว',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                เดือนเกิด: 'สิงหาคม',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                สถานะ: 'คุณเป็นลูกเจ้าของบริษัทผลิตอาหารเสริม'
            },
            {
                name: 'พิ',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                เดือนเกิด: 'มิถุนายน',
            },

            {
                name: 'ปอนด์',
                เพศ: 'ชาย',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'สิงหาคม',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                สนิท: 'เป็นเพื่อนที่สนิทกันในกลุ่มปอนด์ ดรีมเเละพิงค์ น้ำฝน',
            },
            {
                name: 'พิงค์',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'มกราคม',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                สนิท: 'เป็นเพื่อนที่สนิทกันในกลุ่มปอนด์ ดรีมเเละพิงค์ น้ำฝน',
                ความชอบ: 'ชอบวาดรูป',
            },
            {
                name: 'น้ำฝน',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'มิถุนายน',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ความชอบ: 'ชอบวาดรูป',
                สนิท: 'เป็นเพื่อนที่สนิทกันในกลุ่มปอนด์ ดรีมเเละพิงค์ น้ำฝน',

            },
            {
                name: 'นันฟาง',
                เพศ: 'ชาย',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'กันยายน',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ความชอบ: 'ชอบขับรถเที่ยวไปทั่ว',
                ถนัด: 'งานทุกอย่างที่ครูใช้เเละถ้าไปทำจะไม่ต้องเรียน'
            },
            {
                name: 'เอ็ม',
                เพศ: 'ชาย',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'มีนาคม',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ความชอบ: 'ชอบเล่นเกมฟุตบอล',
            },
            {
                name: 'ครีม',
                เพศ: 'หญิง',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'สิงหาคม',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ความชอบ: 'ชอบเสื้อผ้าเเละการเเต่งหน้า',
            },
            {
                name: 'อาร์ม',
                เพศ: 'ชาย',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'มิถุนายน',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ชือ: 'ชื่อเล่นของคุณภาษาไทยเเปลว่าเเขน',
            },
            {
                name: 'องศา',
                เพศ: 'ชาย',
                อายุ: 16,
                เคยมีเเฟน: 'ไม่เคย',
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'เมษายน',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ชือ: 'คุณมีอีกชื่อคือวิว',
            },
            {
                name: 'ดรีม',
                เพศ: 'ชาย',
                อายุ: 16,
                ความสัมพัน: 'เพื่อนตอนเรียนม.ปลายด้วยกัน',
                เดือนเกิด: 'เมษายน',
                โรงเรียน: 'เรียนม.ปลายที่พานทอง',
                ความชอบ: 'ชอบเล่นfiveM, roblox',
                ชือ: 'ชื่อเล่นของคุณภาษาไทยเเปลว่าความฝัน',
            },
            {
                name: 'เนะ',
                เพศ: 'หญิง',
                อายุ: 14,
                ความสัมพัน: 'รุ่นน้อง',
                สนิท: 'รู้จัก อั๋นเเละปูน',
                ถูกชอบ: 'ปูนชอบคุณ เเม้ไม่ใช่ อย่างน้อยปังปอนด์ก็เชียร์'
            },
            {
                name: 'คุณหนู',
                เพศ: 'หญิง',
                อายุ: 14,
                เคยมีเเฟน: 'ไม่เคย',
                ความสัมพัน: 'รุ่นน้อง',
                เดือนเกิด: 'ธันวาคม',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม miniworld',
                ถูกชอบ: 'ปูนชอบคุณ เเม้ไม่ใช่ อย่างน้อยปังปอนด์ก็เชียร์'
            },
            {
                name: 'ผักหวาน',
                เพศ: 'หญิง',
                อายุ: 15,
                ความสัมพัน: 'รุ่นน้อง',
                เดือนเกิด: 'ธันวาคม',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม miniworld',
                ครอบครัว: 'มีคุณพ่อเป็นชาวต่างชาติ',
                ถนัด: 'ภาษาอังกฤษ',
            },
            {
                name: 'จันทร์จ้าว',
                เพศ: 'หญิง',
                อายุ: 15,
                ความสัมพัน: 'รุ่นน้อง',
                เดือนเกิด: 'กุมภาพันธ์',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม miniworld',
                ชือปลอม: 'คุณมีชื่อว่ากระต่าย  เเต่จริงๆเเล้วคุณชื่อเล่นว่า จันทร์จ้าว'
            },
            {
                name: 'น้ำแข็ง',
                เพศ: 'หญิง',
                อายุ: 14,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'รุ่นน้อง',
                ชือ: 'ชื่อเล่นของคุณเกี่ยวกับน้ำ เช่นผักในน้ำ หรือมีคำว่าน้ำในชื่อ',
                เดือนเกิด: 'กรกฎาคม',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม freefire'
            },
            {
                name: 'ฝันหวาน',
                เพศ: 'หญิง',
                อายุ: 14,
                ความสัมพัน: 'รุ่นน้อง',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม freefire',
                ถนัด: 'วาดรูปสวย',
                ความชอบ: 'ชอบวาดรูป',
            },
            {
                name: 'เกรป',
                เพศ: 'หญิง',
                อายุ: 13,
                ความสัมพัน: 'รุ่นน้อง',
                ชือ: 'มีชื่อเล่นที่เกี่ยวกับหรือเป็น ผลไม้',
                เดือนเกิด: 'กรกฎาคม',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม freefire'
            },
            {
                name: 'พิมพ์',
                เพศ: 'หญิง',
                อายุ: 14,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'รุ่นน้อง',
                เดือนเกิด: 'มกราคม',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม freefire',
                เเคลน: 'คุณเป็นลูกเเคลนของเเคลน ID:[???]'
            },
            {
                name: 'ตัง',
                เพศ: 'ชาย',
                อายุ: 14,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'รุ่นน้อง',
                เดือนเกิด: 'กันยายน',
                พบกัน: 'คุณกับปังปอนด์พบกันเพราะเกม freefire',
                เเคลน: 'คุณเป็นลูกเเคลนของเเคลน ID:[???]'
            },
            {
                name: 'ตาล',
                เพศ: 'ชาย',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนตอนเรียนม.ต้นด้วยกัน',
                เดือนเกิด: 'มีนาคม',
                ถนัด: 'ภาษาอังกฤษ',
                เรียน: 'วิศกรรมไฟฟ้า'
            },
            {
                name: 'ธี',
                เพศ: 'ชาย',
                อายุ: 16,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'เพื่อนตอนเรียนม.ต้นด้วยกัน',
                เดือนเกิด: 'มีนาคม',
                เเคลน: 'คุณเป็นลูกเเคลนของเเคลน ID:[???]',
                เรียน: 'กศน.'
            },
            {
                name: 'เฟริน',
                เพศ: 'หญิง',
                อายุ: 12,
                เคยมีเเฟน: 'ไม่เคย',
                ผลการเรียน: 'ตอนเรียนป.3-6 ผลการเรียน ไม่ใช่อันดับที่ 1-3 ของห้องเสมอ',
                ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
                ความชอบ: 'เล่นเกม',
                เกมทีชอบ: 'ROV',
                ครอบครัว: 'เป็นคนภายในครอบครัวปังปอนด์',
            },
            {
                name: 'พี่เเดง',
                เพศ: 'หญิง',
                อายุ: 34,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'พี่สาวของปังปอนด์',
                เดือนเกิด: 'พฤศจิกายน',
                ครอบครัว: 'เป็นคนภายในครอบครัวปังปอนด์',
            },
            {
                name: 'พี่เพชร',
                เพศ: 'ชาย',
                อายุ: 34,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'พี่เขยของปังปอนด์',
                เดือนเกิด: 'ตุลาคม',
                ครอบครัว: 'เป็นคนภายในครอบครัวปังปอนด์',
            },
            {
                name: 'พี่กอล์ฟ',
                เพศ: 'ชาย',
                อายุ: 27,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'พี่ชายของปังปอนด์',
                เดือนเกิด: 'กุมภาพันธ์',
                ครอบครัว: 'เป็นคนภายในครอบครัวปังปอนด์',
                ความชอบ: 'ชอบเล่นเบส',
                เกมทีชอบ: 'ROV',
            },
            {
                name: 'พี่โปรเเกรมเมอร์',
                เพศ: 'ชาย',
                อายุ: 27,
                เคยมีเเฟน: 'เคย',
                เดือนเกิด: 'มิถุนายน',
                อาชีพ: 'โปรเเกรมเมอร์'
            },
            {
                name: 'ครูโต',
                เพศ: 'ชาย',
                อายุ: 37,
                เคยมีเเฟน: 'เคย',
                ความสัมพัน: 'ครูสมัยเรียนประถม',
                อาชีพ: 'ครูวิทยาศาสตร์'
            },
    ];

    // เรียนรู้จากข้อมูลตัวอย่าง
    data.forEach(person => {
        classifier.learn(person.ความชอบ, person.name);
    });

    function predictCategory() {
        const gender = document.getElementById('gender').value;
        const age = document.getElementById('age').value;
        const drawing = document.getElementById('drawing').checked ? 'ชอบวาดรูปรถ' : '';
        const touring = document.getElementById('touring').checked ? 'ชอบรถทัวร์' : '';
        const writing = document.getElementById('writing').checked ? 'เขียนตามคำบอก' : '';
        const interests = [drawing, touring, writing];
        const newData = [gender, age, ...interests.filter(interest => interest !== '')];
        const predictedCategory = classifier.categorize(newData);
        const resultElement = document.getElementById('result');
        resultElement.innerText = `ประเภทที่ทำนายได้: ${predictedCategory}`;
    }

    function openTab(tabName) {
        const tabs = document.getElementsByClassName('tabContent');
        for (let i = 0; i < tabs.length; i++) {
            tabs[i].classList.remove('activeTab');
        }
        document.getElementById(tabName).classList.add('activeTab');
    }
</script>

</body>
</html>
