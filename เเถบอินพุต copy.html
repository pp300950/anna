<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Input Box Example</title>
<style>
    /* CSS เพื่อจัดรูปแบบเเละสไตล์ */
  
    .input-box {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 20px;
    }
    .input-field {
        width: 80%;
        padding: 8px;
        margin: 5px;
        box-sizing: border-box;
    }
    .button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
    }
    .hidden {
        display: none;
    }
</style>
</head>
<body>
    <body>
            <div class="input-box">
                <input type="text" id="inputField" class="input-field" readonly>
            </div>
           
            <div>
                <button class="button" onclick="addTextAndHide(this, 'สวัสดี')">สวัสดี</button>
                <button class="button" onclick="addTextAndHide(this, 'ไง')">ไง</button>
                <button class="button" onclick="addTextAndHide(this, 'เธอชื่ออะไร')">เธอชื่ออะไร</button>
            </div>
            <div id="result"></div>
        
        <script>
            // JavaScript เพื่อเพิ่มข้อความลงในเเถบอินพุต และซ่อนปุ่มที่ถูกคลิก
            function addTextAndHide(button, text) {
                var inputField = document.getElementById('inputField');
                inputField.value += text + ' ';
               
                button.classList.add('hidden');
            }
            
            // ดักเหตุการณ์เมื่อคลิกที่เเถบอินพุต
            document.getElementById('inputField').addEventListener('click', function() {
                document.getElementById('addedTexts').innerHTML = this.value;
            });

            class NaiveBayes {
        constructor() {
            this.classes = {};
            this.totalSamples = 0;
        }

        learn(features, label) {
            if (!this.classes[label]) {
                this.classes[label] = { total: 0, features: {} };
            }

            features.forEach(feature => {
                if (!this.classes[label].features[feature]) {
                    this.classes[label].features[feature] = 1;
                } else {
                    this.classes[label].features[feature]++;
                }
                this.classes[label].total++;
                this.totalSamples++;
            });
        }

        categorize(features) {
            let maxProbability = -1;
            let predictedClass = null;

            for (let label in this.classes) {
                let classProbability = this.classes[label].total / this.totalSamples;
                let featureProbability = 1;

                features.forEach(feature => {
                    const featureCount = this.classes[label].features[feature] || 0;
                    const totalFeatures = this.classes[label].total || 0;
                    featureProbability *= (featureCount + 1) / (totalFeatures + 1);
                });

                const probability = classProbability * featureProbability;

                if (probability > maxProbability) {
                    maxProbability = probability;
                    predictedClass = label;
                }
            }

            return predictedClass;
        }
    }

    const classifier = new NaiveBayes();

    // ข้อมูลตัวอย่าง
    const data = [
        {
            name: 'อั๋น',
            เพศ: 'ชาย',
            อายุ: 16,
            ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
            ความชอบ: 'ชอบวาดรูปรถ',
            ความชอบ: 'ชอบรถทัวร์',
            ถนัด: 'เขียนตามคำบอก'
        },
        {
            name: 'ปูน',
            เพศ: 'ชาย',
            อายุ: 16,
            ความสัมพัน: 'เพื่อนสมัยเรียนประถมด้วยกัน',
            ความชอบ: 'นอน',
            ถนัด: 'ภาษาอังกฤษ'
        },
        {
            name: 'น้ำแข็ง',
            เพศ: 'หญิง',
            อายุ: 14,
            ความสัมพัน: 'รุ่นน้อง',
        }
    ];

    // เรียนรู้จากข้อมูลตัวอย่าง
    data.forEach(person => {
        const features = [];
        features.push(person.เพศ);
        features.push(person.อายุ);
        classifier.learn(features, person.name);
    });

    function predictCategory() {
    const newDataInput = document.getElementById('newData').value;
    const newDataArray = newDataInput.split(',').map(item => item.trim());
    const predictedCategory = classifier.categorize(newDataArray);
    const resultElement = document.getElementById('result');
    
    // ตรวจสอบว่าการทำนายถูกต้องหรือไม่
    let correctPredictions = 0;
    data.forEach(person => {
        const features = [];
        features.push(person.เพศ);
        features.push(person.อายุ);
        const actualCategory = person.name;
        const predictedCategory = classifier.categorize(features);
        if (actualCategory === predictedCategory) {
            correctPredictions++;
        }
    });
    
    // คำนวณเปอร์เซ็นต์การทำนายที่ถูกต้อง
    const accuracyPercentage = (correctPredictions / data.length) * 100;
    
    resultElement.innerHTML = `ประเภทที่ทำนายได้: ${predictedCategory}<br>`;
    resultElement.innerHTML += `ความแม่นยำ: ${accuracyPercentage.toFixed(2)}%`;
}

        </script>
        

</body>
</html>
